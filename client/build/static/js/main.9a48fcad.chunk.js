(this["webpackJsonprecipe-box"]=this["webpackJsonprecipe-box"]||[]).push([[0],{43:function(e,t,i){},44:function(e,t,i){},67:function(e,t,i){},68:function(e,t,i){},69:function(e,t,i){"use strict";i.r(t);var n,s=i(1),a=i(29),c=i.n(a),r=i(4),l=i(5),d=i(3),o=i(7),h=i(6),u=(i(43),i(71)),p=(i(44),i(0)),b=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("header",{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("ul",{className:"nav",children:Object(p.jsx)("li",{className:"title",children:Object(p.jsx)(u.a,{to:"/",children:"Recipe Collector"})})})})})})}}]),i}(s.Component),j=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return Object(p.jsx)("footer",{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("p",{children:["Made with ",Object(p.jsx)("a",{href:"https://github.com/virtual/fcc-recipe-box",children:" \u2665"})," by ",Object(p.jsx)("a",{href:"https://satinflame.com",children:"satinflame design"})," "]})})})}}]),i}(s.Component),g=i(73),m=i(72),O=i(74),v=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.call(this)).addInput=e.addInput.bind(Object(d.a)(e)),e.ingredientIterator=1,e.state={ingredientInput:[]},e.tempArr=[],e}return Object(l.a)(i,[{key:"componentDidMount",value:function(){0===this.state.ingredientInput.length&&this.addInput()}},{key:"addInput",value:function(){this.tempArr.push(Object(p.jsx)("input",{onChange:this.props.getIngredient,name:"ingListItem[]",type:"text",value:this.props.inputIngredients[this.ingredientIterator-1],className:"ingListItem form-control",id:"recipeing"+this.ingredientIterator,placeholder:"Ingredient #"+this.ingredientIterator,"aria-label":"Ingredient #"+this.ingredientIterator},"recipeing"+this.ingredientIterator)),this.setState({ingredientInput:this.tempArr}),this.ingredientIterator=this.ingredientIterator+1}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[this.state.ingredientInput,Object(p.jsx)("button",{title:"Add ingredient",className:"btn btn-success",onClick:this.addInput,children:"+"})]})}}]),i}(s.Component),x=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).clickRecipeAdd=n.clickRecipeAdd.bind(Object(d.a)(n)),n.getIngredient=n.getIngredient.bind(Object(d.a)(n)),n.state={inputTitle:"",inputIngredients:[],inputPicture:"",inputDirections:""},n.ingKeeper=[],n}return Object(l.a)(i,[{key:"getTitle",value:function(e){this.setState({inputTitle:e.target.value})}},{key:"getPicture",value:function(e){this.setState({inputPicture:e.target.value})}},{key:"getDirections",value:function(e){this.setState({inputDirections:e.target.value})}},{key:"getIngredient",value:function(e){var t=[],i=document.getElementsByClassName("ingListItem");return[].map.call(i,(function(e,i){return t.push(e.value),e.value})),this.ingKeeper=t,this.setState({inputIngredients:this.ingKeeper}),this.ingKeeper}},{key:"clickRecipeAdd",value:function(){var e;e=this.state.inputIngredients.map((function(e,t){return{name:e}}));var t={picture:this.state.inputPicture,title:this.state.inputTitle,ingredients:e,directions:this.state.inputDirections};this.props.saveRecipe(t)}},{key:"render",value:function(){var e="";return""!==this.props.message&&(e=Object(p.jsx)("div",{className:"warning-message",children:this.props.message})),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:this.props.modalClass,id:"add-recipe-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{className:"box-dialog",role:"document",children:Object(p.jsxs)("div",{className:"box-content",children:[Object(p.jsxs)("div",{className:"box-header",children:[Object(p.jsx)("h5",{className:"box-title",id:"exampleModalLabel",children:"Add new recipe"}),Object(p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsxs)("div",{className:"box-body",children:[Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{htmlFor:"recipename",className:"col-sm-3 col-form-label",children:"Title\xa0*"}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsx)("input",{required:!0,onChange:this.getTitle.bind(this),type:"text",className:"form-control",id:"recipename",placeholder:"Recipe Title"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{className:"col-sm-3 col-form-label",children:"Ingredients"}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsx)(v,{inputIngredients:this.state.inputIngredients,getIngredient:this.getIngredient})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{htmlFor:"picture",className:"col-sm-3 col-form-label",children:"Picture URL"}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsx)("input",{onChange:this.getPicture.bind(this),type:"text",className:"form-control",id:"picture",placeholder:".jpg, .png"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("label",{htmlFor:"directions",className:"col-sm-3 col-form-label",children:"Directions\xa0*"}),Object(p.jsx)("div",{className:"col-sm-9",children:Object(p.jsx)("input",{onChange:this.getDirections.bind(this),required:!0,type:"text",className:"form-control",id:"directions",placeholder:"How do you make it?"})})]})]}),Object(p.jsxs)("div",{className:"box-footer",children:[e,Object(p.jsx)("button",{type:"submit",onClick:this.props.handleCloseClick,className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(p.jsx)("button",{type:"submit",id:"addRecipe",className:"btn btn-primary",onClick:this.clickRecipeAdd,children:"Add recipe"})]})]})})})})}}]),i}(s.Component),f=Object(O.a)(x),C=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){var e=this.props.edit?Object(p.jsx)("input",{id:this.props.id,onChange:this.props.handleIngInputChange,value:this.props.name}):this.props.name;return Object(p.jsx)("li",{className:"ingredient",children:e})}}]),i}(s.Component),k=i(32),y=i.n(k),I=i(33),N=i.n(I),R=i(19),S=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.call(this)).state={id:null,title:null,picture:null,directions:null,ingredients:null,edit:!1},e.handleCancelClick=e.handleCancelClick.bind(Object(d.a)(e)),e.handleEditClick=e.handleEditClick.bind(Object(d.a)(e)),e.handleSaveClick=e.handleSaveClick.bind(Object(d.a)(e)),e.handleTitleInputChange=e.handleTitleInputChange.bind(Object(d.a)(e)),e.handlePictureInputChange=e.handlePictureInputChange.bind(Object(d.a)(e)),e.handleDirectionsInputChange=e.handleDirectionsInputChange.bind(Object(d.a)(e)),e.handleIngInputChange=e.handleIngInputChange.bind(Object(d.a)(e)),e.updateTitle=e.updateTitle.bind(Object(d.a)(e)),e.updatePicture=e.updatePicture.bind(Object(d.a)(e)),e.updateDirections=e.updateDirections.bind(Object(d.a)(e)),e.updateIng=e.updateIng.bind(Object(d.a)(e)),e.removeRecipe=e.removeRecipe.bind(Object(d.a)(e)),e}return Object(l.a)(i,[{key:"handleCancelClick",value:function(){this.setState({edit:!1,title:this.props.title,picture:this.props.picture,directions:this.props.directions,ingredients:this.props.ingredients})}},{key:"handleEditClick",value:function(){this.setState({edit:!0})}},{key:"handleSaveClick",value:function(){var e={id:this.state.id,title:this.state.title,picture:this.state.picture,directions:this.state.directions,ingredients:this.state.ingredients};this.props.updateRecipe(e,e.id),this.setState({edit:!1})}},{key:"handleTitleInputChange",value:function(e){e.target.value!==this.state.title&&this.updateTitle(e)}},{key:"handlePictureInputChange",value:function(e){e.target.value!==this.state.picture&&this.updatePicture(e)}},{key:"handleDirectionsInputChange",value:function(e){e.target.value!==this.state.directions&&this.updateDirections(e)}},{key:"handleIngInputChange",value:function(e){console.log(e.target.id),this.updateIng(e,e.target.id)}},{key:"updateTitle",value:function(e){this.setState({title:e.target.value})}},{key:"updatePicture",value:function(e){this.setState({picture:e.target.value})}},{key:"updateDirections",value:function(e){this.setState({directions:e.target.value})}},{key:"updateIng",value:function(e,t){var i=this.state.ingredients;i[t]={name:e.target.value,_id:i[t]._id},this.setState({ingredients:i})}},{key:"removeRecipe",value:function(e){var t=this;window.confirm("Delete the recipe?")&&R.post("/deleteRecipe",{id:this.state.id}).then((function(e){200===e.status?t.props.getRecipes():console.log("delete unsuccessful")}))}},{key:"componentDidMount",value:function(){null===this.state.id&&this.setState({id:this.props.id,title:this.props.title,picture:this.props.picture,directions:this.props.directions,ingredients:this.props.ingredients})}},{key:"render",value:function(){var e=this;if(this.state.id){var t=this.state.ingredients,i=this.state.picture,n=this.state.directions,s="";-1==="a065a04cd4f815dca0f22476d225a051f9bd06c4302fe4019c25a062649475ca61ad5fb1d075a05081ed06c4302fe4019ad5a051ccbd06c4302fe4019bf".indexOf(this.state.id)&&(s=Object(p.jsxs)("div",{className:"buttonOptions",children:[Object(p.jsx)("button",{title:"Delete recipe",onClick:this.removeRecipe,value:this.props.id,type:"button",className:"close","aria-label":"Delete",children:Object(p.jsx)("span",{"aria-hidden":"true",children:Object(p.jsx)(y.a,{})})}),Object(p.jsx)("button",{title:"Edit recipe",onClick:this.handleEditClick,value:this.props.id,type:"button",className:"close","aria-label":"Edit",children:Object(p.jsx)("span",{"aria-hidden":"true",children:Object(p.jsx)(N.a,{})})})]}));var a,c="",r="";return a=Object(p.jsxs)("ul",{children:[t.map((function(t,i){return Object(p.jsx)(C,{id:i,handleIngInputChange:e.handleIngInputChange,edit:e.state.edit,name:t.name},i)}))," "]}),t.length>0&&(r=Object(p.jsx)("h3",{children:"Ingredients"}),c=a),this.state.edit?Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"recipe-form",children:Object(p.jsx)("div",{className:"card-block",children:Object(p.jsxs)("div",{className:"card-content",children:[r,c,Object(p.jsx)("h3",{children:"Directions"}),Object(p.jsx)("textarea",{onChange:this.handleDirectionsInputChange,value:n}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:"imgtitle",children:"Title: "}),Object(p.jsx)("input",{onChange:this.handleTitleInputChange,id:"title",value:this.state.title}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:"imgsrc",children:"Source: "}),Object(p.jsx)("input",{onChange:this.handlePictureInputChange,id:"imgsrc",value:this.state.picture}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"btn btn-success",onClick:this.handleSaveClick,children:"Save changes"}),Object(p.jsx)("button",{className:"btn btn-danger pull-right",onClick:this.handleCancelClick,children:"Cancel"})]})})})}):Object(p.jsxs)("div",{className:"card",children:[s,Object(p.jsxs)("div",{className:"recipe-form",children:[i.length>0&&Object(p.jsx)("img",{className:"card-img-top img-fluid",src:this.state.picture,alt:this.state.title}),Object(p.jsxs)("div",{className:"card-block",children:[Object(p.jsx)("h2",{className:"card-title",children:this.state.title}),Object(p.jsxs)("div",{className:"card-content",children:[r,c,Object(p.jsx)("h3",{children:"Directions"}),Object(p.jsx)("p",{className:"card-text",children:n})]})]})]})]})}return Object(p.jsx)("p",{children:"Loading... "})}}]),i}(s.Component),D=i(34),w=i(35),A=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){var e=w.a.div(n||(n=Object(D.a)(["\n            background-image: url(",");\n            background-size:cover;\n            background-position: center;\n            font-size: 1.5em;\n            text-shadow: 0 0 5px #585858;\n            text-align: center;\n            color: white;\n            "])),this.props.background);return Object(p.jsx)("div",{children:Object(p.jsx)(e,{className:"jumbotron",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h1",{className:"display-3",children:"Discover the world of food"}),Object(p.jsx)("p",{className:"lead",children:"Recipes for every occasion\u2014big and small."}),Object(p.jsx)("p",{children:"Browse recipes or add your own."}),Object(p.jsx)("p",{className:"lead",children:Object(p.jsx)("a",{id:"jumbo-add-recipe",onClick:this.props.handleAddClick,"data-toggle":"modal","data-target":"#exampleModal",className:"btn btn-primary btn-lg",href:"#",role:"button",children:"Add Recipe"})})]})})})}}]),i}(s.Component),T=(i(67),function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.call(this)).state={searchquery:null},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e}return Object(l.a)(i,[{key:"handleChange",value:function(e){console.log(e.target.value),this.setState({searchquery:e.target.value}),this.props.getRecipes(e.target.value)}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"searchbox",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("label",{htmlFor:"searchquery",children:"Search Recipes"}),Object(p.jsx)("input",{placeholder:"Name",onChange:this.handleChange,id:"searchquery",name:"searchquery",type:"text"})]})})}}]),i}(s.Component)),P=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.call(this)).updateRecipe=e.updateRecipe.bind(Object(d.a)(e)),e}return Object(l.a)(i,[{key:"updateRecipe",value:function(e,t){this.props.updateRecipe(e,t)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)(A,{handleAddClick:this.props.handleAddClick,background:"https://satinflame.com/img/stock/stock003.jpg"}),Object(p.jsx)(T,{getRecipes:this.props.getRecipes}),Object(p.jsx)("main",{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"card-columns",children:[this.props.recipelist.map((function(t,i){return Object(p.jsx)(S,{getRecipes:e.props.getRecipes,id:t._id,elementNo:i,title:t.title,picture:t.picture,directions:t.directions,ingredients:t.ingredients,modalClass:e.modalClass,updateRecipe:e.updateRecipe},t._id)})),Object(p.jsx)(f,{message:this.props.message,handleCloseClick:this.props.handleCloseClick,saveRecipe:this.props.saveRecipe,modalClass:this.props.modalClass,recipelist:this.props.recipelist,getRecipes:this.props.getRecipes})]})})})})]})}}]),i}(s.Component),q=i(19),E=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={recipelist:null,modalClass:"hide",message:""},n.getRecipes=n.getRecipes.bind(Object(d.a)(n)),n.saveRecipe=n.saveRecipe.bind(Object(d.a)(n)),n.updateRecipe=n.updateRecipe.bind(Object(d.a)(n)),n.handleCloseClick=n.handleCloseClick.bind(Object(d.a)(n)),n.handleAddClick=n.handleAddClick.bind(Object(d.a)(n)),n}return Object(l.a)(i,[{key:"getRecipes",value:function(e){var t=this;return e=e||null,new Promise((function(i,n){q.post("/recipes",{query:e}).then((function(e){void 0!==e?(t.setState({recipelist:e.data}),i(e.data)):n("undefined")}),(function(e){n(e)}))}))}},{key:"handleAddClick",value:function(){this.setState({modalClass:"show"})}},{key:"handleCloseClick",value:function(){this.setState({modalClass:"hide"})}},{key:"saveRecipe",value:function(e){e.title&&e.directions?(q.post("/saveRecipe",e).then((function(e){200===e.status||console.log("save unsuccessful")})),this.getRecipes(),this.setState({modalClass:"hide",message:""}),this.getRecipes()):this.setState({message:"Title and directions are required"})}},{key:"updateRecipe",value:function(e,t){var i=this;q.post("/updateRecipe/"+t,e).then((function(e){200===e.status?i.getRecipes():console.log("save unsuccessful")}))}},{key:"componentDidMount",value:function(){null===this.state.recipelist&&this.getRecipes()}},{key:"render",value:function(){var e=this;return this.state.recipelist?Object(p.jsx)("div",{children:Object(p.jsx)(g.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("nav",{children:[Object(p.jsx)("a",{href:"https://github.com/virtual/fcc-recipe-box",children:Object(p.jsx)("img",{className:"forkimg",src:"https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67",alt:"Fork me on GitHub","data-canonical-src":"https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"})}),Object(p.jsx)(b,{})]}),Object(p.jsx)(m.a,{exact:!0,path:"/",render:function(){return Object(p.jsx)(P,{message:e.state.message,handleAddClick:e.handleAddClick,handleCloseClick:e.handleCloseClick,saveRecipe:e.saveRecipe,modalClass:e.state.modalClass,recipelist:e.state.recipelist,getRecipes:e.getRecipes,updateRecipe:e.updateRecipe})}}),Object(p.jsx)(j,{})]})})}):Object(p.jsx)("div",{children:"Loading...."})}}]),i}(s.Component);i(68);c.a.render(Object(p.jsx)(E,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.9a48fcad.chunk.js.map